{"version":3,"sources":["webpack:///./src/views/GoogleLogin.vue","webpack:///./src/views/GoogleLogin.vue?bb79"],"names":["_createElementVNode","_createElementBlock","_hoisted_1","_createVNode","_component_GoogleLogin","callback","$setup","prompt","name","setup","router","useRouter","store","useStore","googleUserName","computed","state","googleUserImg","response","userData","decodeCredential","credential","dispatch","picture","document","cookie","console","log","isLogin","replace","push","onMounted","__exports__","render"],"mappings":"2IAEIA,eAAgB,SAAb,aAAS,G,uFADdC,eAGM,YAFJC,EACAC,eAA0CC,EAAA,CAA5BC,SAAUC,WAAUC,OAAA,IAAlC,uB,sEASW,GACbC,KAAM,cACNC,MAFa,WAGX,IAAMC,EAASC,iBACTC,EAAQC,iBACRC,EAAiBC,gBAAS,kBAAMH,EAAMI,MAAMF,kBAC5CG,EAAgBF,gBAAS,kBAAMH,EAAMI,MAAMC,iBAC3CZ,EAAW,SAACa,GAGhB,IAAMC,EAAWC,eAAiBF,EAASG,YAE3CT,EAAMU,SAAS,uBAAwBH,EAASX,MAChDI,EAAMU,SAAS,sBAAuBH,EAASI,SAC/CC,SAASC,OAAT,yBAAoCN,EAASX,MAC7CgB,SAASC,OAAT,wBAAmCN,EAASI,SAC5CG,QAAQC,IAAI,sBAAuBR,GACnCS,KAGIA,EAAU,WACd,IAAMd,EAAiBU,SAASC,OAAOI,QAAQ,uDAAwD,MACnGf,GACFJ,EAAOoB,KAAK,aAQhB,OAJAC,gBAAU,WACRH,OAGK,CAAEvB,WAAUS,iBAAgBG,gBAAeW,a,qBCtCtD,MAAMI,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/chunk-2d0d4399.509e2cfa.js","sourcesContent":["<template>\r\n  <div>\r\n    <p>請登入Google</p>\r\n    <GoogleLogin :callback=\"callback\" prompt/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed, onMounted } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { decodeCredential } from 'vue3-google-login'\r\nimport { useRouter } from 'vue-router'\r\nexport default {\r\n  name: 'googleLogin',\r\n  setup () {\r\n    const router = useRouter()\r\n    const store = useStore()\r\n    const googleUserName = computed(() => store.state.googleUserName)\r\n    const googleUserImg = computed(() => store.state.googleUserImg)\r\n    const callback = (response) => {\r\n      // This callback will be triggered when the user selects or login to\r\n      // his Google account from the popup\r\n      const userData = decodeCredential(response.credential)\r\n\r\n      store.dispatch('updateGoogleUserName', userData.name)\r\n      store.dispatch('updateGoogleUserImg', userData.picture)\r\n      document.cookie = `googleUserName=${userData.name}`\r\n      document.cookie = `googleUserImg=${userData.picture}`\r\n      console.log('Handle the response', userData)\r\n      isLogin()\r\n    }\r\n\r\n    const isLogin = () => {\r\n      const googleUserName = document.cookie.replace(/(?:(?:^|.*;\\s*)googleUserName\\s*=\\s*([^;]*).*$)|^.*$/, '$1')\r\n      if (googleUserName) {\r\n        router.push('/fbLogin')\r\n      }\r\n    }\r\n\r\n    onMounted(() => {\r\n      isLogin()\r\n    })\r\n\r\n    return { callback, googleUserName, googleUserImg, isLogin }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./GoogleLogin.vue?vue&type=template&id=6afa36f2\"\nimport script from \"./GoogleLogin.vue?vue&type=script&lang=js\"\nexport * from \"./GoogleLogin.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\user\\\\OneDrive\\\\Desktop\\\\vue3-demo-myself\\\\oakmega\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}